{% extends 'lbook/default/index.html.twig' %}
{% block title %}LogBook TestInfo{% endblock %}
{% block content %}
    <h5>LogBookTestInfo</h5>

    <table class="table">
        <tbody>
            <tr>
                <th>Id</th>
                <td>{{ log_book_test_info.id }}</td>
            </tr>
            <tr>
                <th>Name</th>
                <td>{{ log_book_test_info.name }}</td>
            </tr>
            <tr>
                <th>Path</th>
                <td>{{ log_book_test_info.path }}</td>
            </tr>
        </tbody>
    </table>

    <a href="{{ path('log_book_test_info_index') }}">back to list</a>
<table class="table">
    <thead>
    <tr>
        <th>ID</th>
        <th>Cycle</th>
        <th>Setup</th>
        <th>Order</th>
        <th>Runtime</th>
        <th>Start</th>
        <th>End</th>
        <th title="Runtime % in cycle">%</th>
        <th>Verdict</th>
    </tr>
    </thead>
    <tbody>
    {% for log_book_test in log_book_test_info.logBookTests %}
        <tr>
            <td><a title="{{ log_book_test.testType | default('TEST') }} - {{ log_book_test.testInfo.path | default('') }}" href="{{ path('test_show_first', {'id': log_book_test.id}) }}">{{ log_book_test.id }}</a></td>
            <td><a href="{{ path('cycle_show_first', { 'id': log_book_test.cycle.id }) }}">{{ log_book_test.cycle.name }}</a></td>
            <td>{{ log_book_test.setup.name }}</td>
            <td>{{ log_book_test.executionOrder }}</td>
            <td><span data-title="{{ log_book_test.timeRun }}">{{ log_book_test.timeRun | ExecutionTimeGeneric}}</span></td>
            <td>{% if log_book_test.timeStart %}<span data-title="{{ log_book_test.timeStart|date('ymdHis') }}">{{ log_book_test.timeStart|date('m-d H:i:s') }}</span>{% endif %}</td>
            <td>{% if log_book_test.timeEnd %}<span data-title="{{ log_book_test.timeEnd|date('ymdHis') }}">{{ log_book_test.timeEnd|date('H:i:s') }}</span>{% endif %}</td>
            <td><span data-title="{{ log_book_test.timeRun }}"></span>{{ getPercentage(log_book_test.timeRun, log_book_test.cycle.testsTimeSum) }}%</td>
            <td><span class="badge {{ verdictToBadge(log_book_test.verdict)}}">{{ log_book_test.verdict }}</span></td>
        </tr>
    {% else %}
        <tr><td colspan="4">no records found</td></tr>
    {% endfor %}
    </tbody>
</table>
{#    <a href="{{ path('log_book_test_info_edit', {'id': log_book_test_info.id}) }}">edit</a>#}

{#    {{ include('log_book_test_info/_delete_form.html.twig') }}#}
{% endblock %}
