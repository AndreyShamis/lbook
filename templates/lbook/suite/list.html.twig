{% apply spaceless %}
    <table class="records_list table table-striped table-condensed table-hover" data-classes="table table-no-bordered"
           id="suiteTable" data-pagination="true" data-search="true" data-toggle="table"
           data-toolbar="#suiteExecutionToolBar"
           data-show-refresh="true"
           data-key-events="true"
            {#data-show-toggle="true"#}
           data-show-export="true"
           data-show-columns="true"
           data-advanced-search="true"
            {#data-id-table="advancedTable"#}
           data-page-size="15" data-page-list="[10, 15, 20, 50, 100, 500]" data-sort-order="desc">
        <thead>
        <tr>
            <th data-sortable="true" title="Updated image" class="time_diff_icon" data-switchable="false">&nbsp;</th>
            <th data-sortable="true" data-switchable="false">ID</th>
            <th data-sorter="htmlSorter" data-sortable="true" title="Full Suite Name" data-switchable="false">Name</th>
            <th data-sortable="true" title="Cycle" data-switchable="true">Cycle</th>
            <th data-field="Duration" data-sorter="dataTitleIntSorter" data-sortable="true" title="Time duration between First test start-time and Last test end-time" data-footer-formatter="timeSumFormatter">Duration</th>
            <th data-sortable="true" title="Tests count" data-switchable="true" data-visible="false">Tests</th>
            <th data-sortable="true" title="Tests count which enabled" data-switchable="true" data-visible="true">Enabled</th>
            <th data-sortable="true" title="Tests count in logbook" data-switchable="true" data-visible="true">Executed</th>
            <th data-sortable="true" title="Total Executed: Tests and PreSuite and PostSuite count in logbook" data-switchable="true" data-visible="true">Tot.Exec</th>
            <th data-sortable="true" data-sorter="dataPercentSorter" title="Pass Rate" data-switchable="true" data-visible="true">PR</th>
            <th data-sortable="true" title="Pass Count" data-switchable="true" data-visible="true">P</th>
            <th data-sortable="true" title="Fail Count" data-switchable="true" data-visible="true">F</th>
            <th data-sortable="true" title="Error Count" data-switchable="true" data-visible="true">E</th>
            <th data-sortable="true" title="Suite Summary" data-switchable="true" data-visible="false">Summary</th>
            <th data-sortable="true" title="Suite UUID" data-switchable="true" data-visible="false">UUID</th>
            <th data-sortable="true" title="Platform" data-switchable="true">Platform</th>
            <th data-sortable="true" title="Chip" data-switchable="true">Chip</th>
            <th data-sortable="true" title="Chip" data-switchable="true">Components</th>
            <th data-sortable="true" title="CI URL" data-switchable="true" data-visible="false">CI</th>
            <th data-sortable="true" title="CI TAG" data-switchable="true">CI tag</th>
            <th data-sortable="true" title="Jira Test Set URL" data-switchable="true">TS</th>
            <th data-sortable="true" title="Jira Test Plan URL" data-switchable="true" data-visible="false">TP</th>
            <th data-sortable="true" title="Testing Level" data-switchable="true">Level</th>
            <th data-sortable="true" title="Testing Level" data-switchable="true">Product Version</th>
            <th data-sorter="dataTitleDateSorter" data-sortable="true" title="Update time">Updated</th>
            <th data-sorter="dataTitleDateSorter" data-sortable="true" title="Created time" data-visible="false">Created</th>
            <th data-sortable="true" title="Node" data-switchable="true">Node</th>
            <th data-sortable="true" title="Status X=Closed, O-Open" data-switchable="true">S</th>
            <th data-sortable="true" title="Publish" data-switchable="true">Pub</th>
{#            <th class="suite_list_options_column">Options</th>#}
        </tr>
        </thead>
        <tbody class="searchable">
        {% for suiteExecution in iterator | slice(0, 10000)%}
            {{ suiteExecution.calculateStatistic }}
            {% set suite_css = '' %}
            {% if not suiteExecution.closed %}
                {% set suite_css = 'suite_wip' %}
            {% endif %}
            <tr class="{{ suite_css }}">
                <td class="font6" title="Updated {{ suiteExecution.updatedAt|time_diff }}">
                    {% if date(suiteExecution.updatedAt) > date('-5 minutes') %}
                        <i class="normal-icon ace-icon fa fa-clock-o red smaller-90"></i>
                    {% elseif date(suiteExecution.updatedAt) > date('-30 minutes') %}
                        <i class="normal-icon ace-icon fa fa-clock-o pink smaller-80"></i>
                    {% elseif date(suiteExecution.updatedAt) > date('-60 minutes') %}
                        <i class="normal-icon ace-icon fa fa-clock-o blue smaller-70"></i>
                    {% elseif date(suiteExecution.updatedAt) > date('-12 hours') %}
                        <i class="normal-icon ace-icon fa fa-clock-o yellow smaller-70"></i>
                    {% endif %}
                </td>
                <td class="font8">{{ suiteExecution.id }}</td>
                <td><a title="{{ suiteExecution.summary }}" href="{{ path('suite_show', { 'id': suiteExecution.id }) }}">{{ suiteExecution.name }}</a></td>
                <td>
                    {% if suiteExecution.cycle.id is defined %}
                        {{ suiteExecution.cycle.id }}:<a href="{{ path('cycle_show_first', { 'id': suiteExecution.cycle.id }) }}">{{ suiteExecution.cycle.name }}</a>
                    {% endif %}
                </td>
                <td><span data-title="{{ suiteExecution.runTime }}">{{ suiteExecution.runTime |  executionTimeGenericShort}}</span></td>
                <td>{{ suiteExecution.testsCount }}</td>
                <td>{{ suiteExecution.testsCountEnabled }}</td>
                <td>{{ suiteExecution.totalExecutedTests}}</td>
                <td>{{ suiteExecution.tests | length}}</td>
                <td><span class="{{ passRateToColor(suiteExecution.passRate) }}" data-percent="{{ suiteExecution.passRate }}">{{ suiteExecution.passRate }}%</td>

                <td class="passClass">{{ suiteExecution.passCount }}</td>
                <td class="failClass">{{ suiteExecution.failCount }}</td>
                <td class="errorClass">{{ suiteExecution.errorCount }}</td>
                <td>{{ suiteExecution.summary }}</td>
                <td>{{ suiteExecution.uuid }}</td>
                <td style="color: {{ stringToColor(suiteExecution.Platform) }} !important;">{{ suiteExecution.Platform }}</td>
                <td style="color: {{ stringToColor(suiteExecution.chip) }} !important;">{{ suiteExecution.chip }}</td>
                <td class="font9">{{ suiteExecution.components|join(', ') }}</td>
                <td class="font9"><a href="{{ suiteExecution.ciUrl }}" target="_blank">{{ suiteExecution.ciUrl | replace({'https://': ''}) }}</a></td>
                <td class="font9">{{ suiteExecution.buildTag }}</td>
                <td>{% if suiteExecution.testSetUrl != '' %}<a href="{{ suiteExecution.testSetUrl }}" target="_blank">{{ suiteExecution.testSetUrl | jiraKey }}</a>{% endif %}</td>
                <td>{% if suiteExecution.testPlanUrl != '' %}<a href="{{ suiteExecution.testPlanUrl }}" target="_blank">{{ suiteExecution.testPlanUrl | jiraKey }}</a>{% endif %}</td>
                <td>{{ suiteExecution.testingLevel }}</td>
                <td class="font9">{{ suiteExecution.productVersion }}</td>
                <td><span class="font9" data-title="{{ suiteExecution.updatedAt|date('ymdHis') }}" title="Updated at {{ suiteExecution.updatedAt|date('d/m/Y H:i:s') }}">{{ suiteExecution.updatedAt|time_diff}}</span></td>
                <td><span data-title="{{ suiteExecution.createdAt|date('ymdHis') }}" title="Created at {{ suiteExecution.createdAt|date('d/m/Y H:i:s') }}">{{ suiteExecution.createdAt|time_diff}}</span></td>
                <td class="font9">{% if suiteExecution.host.name is defined %}<a href="{{ path('host_show', {'id': suiteExecution.host.id}) }}" target="_blank">{{ suiteExecution.host.name }}</a>{% endif %}</td>
                <td>{{ suiteExecution.closed ? 'X':'O'  }}</td>
                <td>{{ suiteExecution.publish }}</td>
{#                <td>#}
{#                    <div class="hidden-sm hidden-xs action-buttons">#}
{#                        <a class="blue" href="{{ path('suite_show', { 'id': suiteExecution.id }) }}" title="Show">#}
{#                            <i class="ace-icon fa fa-search-plus bigger-130"></i>#}
{#                        </a>#}
{#                        #}{#                                {% if is_granted('edit', suiteExecution) %}#}
{#                        #}{#                                    <a class="green" href="{{ path('suite_edit', { 'id': suiteExecution.id }) }}" title="Edit">#}
{#                        <i class="ace-icon fa fa-pencil bigger-130"></i>#}
{#                        #}{#                                    </a>#}
{#                        #}{#                                {% endif %}#}
{#                        #}{#<a class="red" href="#" title="Delete">#}
{#                        #}{#<i class="ace-icon fa fa-trash-o bigger-130"></i>#}
{#                        #}{#</a>#}
{#                    </div>#}
{#                </td>#}
            </tr>
        {% endfor %}
        </tbody>
    </table>
{% endapply %}